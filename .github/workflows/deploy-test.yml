name: "Deploy Test"

on: 
  push:
    tags:
      -"test/v*"

env:
    PROJECT_PATH: Test/Test.csproj

jobs:
  deploy:
    runs-on: windows-latest
    steps:
     - uses: actions/checkout@v2

     - uses: actions/setup-donet@v1
       with:
        donet-version: 7.0.*

     - run: dotnet restore ${{ env.PROJECT_PATH}}
     - run: dotnet build ${{ env.PROJECT_PATH}} -c Realease --no-restore
     - run: dotnet publish ${{ env.PROJECT_PATH}} -c Realease --self-contained -r win-x64 -p:PublishSingleFile=true